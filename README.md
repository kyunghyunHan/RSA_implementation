# RSA

- RSA 암호는 공개키 암호시스템의 하나로, 암호화뿐만 아니라 전자서명이 가능한 최초의 알고리즘으로 알려져 있다.
- 인수분해 문제 해결의 높은 난이도를 이용한 가장 대표적인 공개키 암호 알고리즘으로 암호화 뿐만 아니라 전자서명의 용도로도 사용된다.

## 방식
![RSA](https://user-images.githubusercontent.com/88940298/205602360-755f6489-256c-459b-b084-3c997d3b2b0f.png)

- 1.Alice가 Bob에게 정보를 안전하게 보내고 싶다.
- 2.Bob이 공개키와 개인키를 만들어 Alice에게 공개키를 보낸다.(개인키는 Bob만이 소장)
- 3.Alice가 Bob으로부터 받은 공개키를 이용하여 보낼 정보를 암호화한다.
- 4.Alice가 암호화된 정보를 Bob에게 보낸다.
- 5.Bob이 암호화된 정보를 받고 개인키를 이용하여 암호를 해독한다.

## 개인키와 공개키 만들기

- 공개키는 n,e라는 두 정수

- 개인키는 n,d라는 두 정수로 이루어 져 있다.

```rs
pub struct KeySet {
    e: BigUint,
    d: BigUint,
    n: BigUint,
}
```

- p,q의 조건

```
1.p는 q와 거긔 같은 크기이다.
2.p-1과 q-1은 큰 소인수를 같는다
3.p-1과 q-1의 최대 공약수는 작은 수이다.
4.d는 n과 거의 같은 크기이다.
```

- n구하기

```
n=p*q
```

- e구하기

```
1. Ø(n)=(p-q)*(q-1)
2.e는 1<e<n로써 1과 n사이에 있고 Ø(n)과 서로소인 e를 정해야한다.
3.e는 공개키에 이용
//서로소란 1이외의 공약수를 가지지 않는 수
```

```rs
   let phi_n = (&p - 1u32) * (&q - 1u32);
```

- d구하기

```
1. (e*d)mod Ø(n)=1
2.e*d를  Ø(n)으로 나누었을 떄 나머지가 1인 d
3.d는 개인키에 사용
```

![스크린샷 2022-12-05 오후 6 18 46](https://user-images.githubusercontent.com/88940298/205600204-2c19b2ad-314a-4549-8867-5756318ee6db.png)
